<div class="rc-page">
  <div class="rc-header">
    <div class="rc-title">
      <div class="rc-badge">ğŸ¬</div>
      <div>
        <h2>Recommendation Chat</h2>
        <p>Ne izlemek istediÄŸini yaz; geÃ§miÅŸine gÃ¶re 3â€“5 Ã¶neri al.</p>
      </div>
    </div>

    <div class="rc-actions">
      <button class="rc-btn ghost" (click)="useExample('BugÃ¼n kÄ±sa bir komedi istiyorum, popÃ¼ler olmasÄ±n')">
        Ã–rnek: Komedi
      </button>
      <button class="rc-btn ghost" (click)="useExample('Psikolojik gerilim ama aÅŸÄ±rÄ± korku deÄŸil')">
        Ã–rnek: Gerilim
      </button>
      <button class="rc-btn ghost" (click)="useExample('Bilim kurgu, uzay temalÄ±, sÃ¼rÃ¼kleyici')">
        Ã–rnek: Sci-Fi
      </button>

      <button class="rc-btn danger" (click)="clearChat()">
        Temizle
      </button>
    </div>
  </div>

  <div class="rc-card">
    <div class="rc-chat">
      <div *ngIf="messages.length === 0" class="rc-empty">
        <div class="rc-empty-emoji">âœ¨</div>
        <div class="rc-empty-title">HazÄ±rÄ±m.</div>
        <div class="rc-empty-sub">
          AÅŸaÄŸÄ±dakilerden birine tÄ±kla ya da kendi isteÄŸini yaz.
        </div>

        <div class="rc-chips">
          <button class="rc-chip" (click)="useExample('BugÃ¼n 90 dakikadan kÄ±sa, hÄ±zlÄ± akan bir film')">â±ï¸ KÄ±sa</button>
          <button class="rc-chip" (click)="useExample('Netflix tarzÄ± popÃ¼ler ama kliÅŸe olmayan')">ğŸ”¥ PopÃ¼ler</button>
          <button class="rc-chip" (click)="useExample('Eski klasiklerden bir ÅŸeyler')">ğŸï¸ Klasik</button>
          <button class="rc-chip" (click)="useExample('Romantik ama dram deÄŸil')">ğŸ’˜ Romantik</button>
          <button class="rc-chip" (click)="useExample('Aksiyon ama aÅŸÄ±rÄ± ÅŸiddet olmasÄ±n')">ğŸ’¥ Aksiyon</button>
        </div>
      </div>

      <div *ngFor="let m of messages" class="rc-msg" [class.user]="m.role === 'user'" [class.assistant]="m.role === 'assistant'">
        <div class="rc-avatar" *ngIf="m.role === 'assistant'">ğŸ¤–</div>
        <div class="rc-bubble">
          <div class="rc-meta">
            <span class="rc-role">{{ m.role === 'user' ? 'You' : 'Assistant' }}</span>
          </div>
          <div class="rc-text">{{ m.text }}</div>
        </div>
        <div class="rc-avatar user" *ngIf="m.role === 'user'">ğŸ§‘</div>
      </div>

      <div *ngIf="loading" class="rc-typing">
        <div class="rc-typing-dot"></div>
        <div class="rc-typing-dot"></div>
        <div class="rc-typing-dot"></div>
        <span>YanÄ±t hazÄ±rlanÄ±yorâ€¦</span>
      </div>
    </div>

    <div class="rc-inputbar">
      <input
        [(ngModel)]="input"
        (keydown.enter)="send()"
        placeholder="Ne izlemek istiyorsun? (Ã¶rn: kÄ±sa komedi, popÃ¼ler olmasÄ±n)"
      />
      <button class="rc-btn primary" (click)="send()" [disabled]="loading || !input.trim()">
        GÃ¶nder
      </button>
    </div>

    <div class="rc-footnote">
      <span>ğŸ”’ Bu sayfa login gerektirir.</span>
      <span>ğŸ§  Key eklenince gerÃ§ek LLM Ã¶nerisi dÃ¶ner.</span>
      <span>ğŸš« Spoiler vermemesi iÃ§in sistem promptu var.</span>
    </div>
  </div>
</div>
